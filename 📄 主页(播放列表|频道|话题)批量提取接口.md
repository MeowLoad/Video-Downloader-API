# ä¸»é¡µ(æ’­æ”¾åˆ—è¡¨/é¢‘é“/Hashtag/è¯é¢˜)æ‰¹é‡æå–æ¥å£æ–‡æ¡£ ğŸ“„

> **ğŸ“¢ å“¼å“¼çŒ«æœ€è¿‘æ–°å¢äº†ä¸€äº› APIï¼Œè¯·å‰å¾€ ğŸ‘‰ [docs.henghengmao.com](https://docs.henghengmao.com/zh/developer) æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬æ¥å£æ–‡æ¡£ã€‚**

è¯¥æ¥å£ä¸ºä¸»é¡µ(æ’­æ”¾åˆ—è¡¨/é¢‘é“/Hashtag/è¯é¢˜)æ‰¹é‡æå–æ¥å£ï¼Œå“¼å“¼çŒ«ã€Œä¸»é¡µæ‰¹é‡æå–ã€åŠŸèƒ½æ”¯æŒçš„å¹³å°ï¼Œè¯¥æ¥å£éƒ½æ”¯æŒã€‚

- **æ¥å£åœ°å€**: `https://h.aaaapp.cn/posts`
- **è¯·æ±‚æ–¹å¼**: `POST`
- **è¯·æ±‚ Content-Type**: `application/json`

## æ¥å£å‚æ•°

| å‚æ•°        | è¯´æ˜                                                                                |
| ----------- | ----------------------------------------------------------------------------------- |
| `userId`    | åœ¨[å¼€å‘è€…æ¥å£ç®¡ç†ä¸­å¿ƒ](https://www.henghengmao.com/user/developer)è·å–              |
| `secretKey` | åœ¨[å¼€å‘è€…æ¥å£ç®¡ç†ä¸­å¿ƒ](https://www.henghengmao.com/user/developer)è·å–              |
| `url`       | ä½œè€…ä¸»é¡µåˆ†äº«é“¾æ¥åœ°å€                                                                |
| `cursor`    | åˆ†é¡µå‚æ•°ï¼Œè·å–ç¬¬ 1 é¡µä¸ä¼ è¯¥å‚æ•°ï¼Œè·å–ç¬¬ 2 é¡µä¼ å‰ä¸€é¡µè¯·æ±‚ç»“æœé‡Œçš„ next_cursor çš„æ•°æ® |

## è¯·æ±‚æˆåŠŸçš„è¿”å›ç»“æœ ğŸ‰

```json
{
  "code": 200,
  "succ": true,
  "data": {
    "next_cursor": "4738017350125975",
    "has_more": true,
    "posts": [
      {
        "id": "4740201740502412",
        "created_at": "1645635626000",
        "text": "æ—§ç”µè„‘åƒä¸‡ä¸è¦æ‰”ï¼Œä¸€æ‹›è®©å®ƒæ¯”æ–°ç”µè„‘è¿˜æµç•…ï¼",
        "medias": [
          {
            "media_type": "video",
            "resource_url": "http://f.video.weibocdn.com/o0/OKxyGGNvlx07TZHhMZlC01041200jdfp0E010.mp4?label=mp4_720p&template=720x1056.24.0&ori=0&ps=1CwnkDw1GXwCQx&Expires=1645685774&ssig=reKoohgbtK&KID=unistore,video",
            "preview_url": "http://wx1.sinaimg.cn/orj480/60c32e03ly1gznxqvfvs5j20k00qpad8.jpg"
          }
        ]
      },
      {
        "id": "4740187936000074",
        "created_at": "1645632335000",
        "text": "å‹¤ç»ƒ3å¹´çš„è‚šçš®èˆï¼Œå¤§å®¶è§‰å¾—å¦‚ä½•ï¼Ÿ",
        "medias": [
          {
            "media_type": "image",
            "resource_url": "http://wx3.sinaimg.cn/orj480/60c32e03ly1gznw662vcxj20k00sw75q.jpg",
            "preview_url": null
          }
        ]
      }
    ],
    "user": {
      "username": "æ³¡æ³¡Pisces",
      "avatar": null
    },
    "overseas": 0
  }
}
```

## è¿”å›ç»“æœå­—æ®µè¯´æ˜

| å­—æ®µ                              | è¯´æ˜                                                                                                            | æ˜¯å¦ä¸€å®šæœ‰å€¼   |
| --------------------------------- | --------------------------------------------------------------------------------------------------------------- | -------------- |
| `has_more`                        | true: æœ‰ä¸‹ä¸€é¡µï¼›false: æ²¡æœ‰ä¸‹ä¸€é¡µäº†                                                                             | ä¸€å®šæœ‰         |
| `next_cursor`                     | è·å–ä¸‹ä¸€é¡µæ•°æ®æ—¶ï¼Œå°†è¯¥å€¼ä½œä¸º cursor å‚æ•°å€¼ä¼ é€’ã€‚<br>å¦‚æœ has_more ä¸º falseï¼Œåˆ™æ²¡æœ‰ä¸‹ä¸€é¡µäº†ï¼Œæ­¤å­—æ®µå€¼ä¸º'no_more' | ä¸€å®šæœ‰         |
| `posts`                           | æ¯é¡µè¿”å›å¤šä¸ªå¸–å­(post)ï¼Œposts æ˜¯å¸–å­åˆ—è¡¨æ•°æ®                                                                    | å¯èƒ½è¿”å›ç©ºæ•°ç»„ |
| `posts -> text`                   | å¸–å­çš„æ–‡æ¡ˆ                                                                                                      | å¯èƒ½æ²¡æœ‰       |
| `posts -> medias`                 | æ¯ä¸ªå¸–å­é‡ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªåª’ä½“èµ„æº(è§†é¢‘/å›¾ç‰‡)                                                                     | ä¸€å®šæœ‰         |
| `posts -> medias -> media_type`   | å¯èƒ½æ˜¯ `video`ã€`image`ã€`audio`                                                                                | ä¸€å®šæœ‰         |
| `posts -> medias -> resource_url` | è§†é¢‘åœ°å€(video)ã€å›¾ç‰‡åœ°å€(image)ã€éŸ³é¢‘åœ°å€(audio)                                                               | ä¸€å®šæœ‰         |
| `posts -> medias -> preview_url`  | è§†é¢‘å°é¢(video)ã€éŸ³é¢‘å°é¢(audio)                                                                                | å¯èƒ½æ²¡æœ‰       |
| `user -> username`                | åšä¸»æ˜µç§°                                                                                                        | å¯èƒ½æ²¡æœ‰       |
| `user -> avatar`                  | åšä¸»å¤´åƒç½‘å€                                                                                                    | å¯èƒ½æ²¡æœ‰       |

## è¯·æ±‚å¤±è´¥çš„è¿”å›ç»“æœ âŒ

```json
{
  "code": 400,
  "msg": "ç¼ºå°‘å‚æ•°"
}
```

## è¿”å›çŠ¶æ€ç è¯´æ˜

| code      | msg                                                           |
| --------- | ------------------------------------------------------------- |
| 200       | æå–æˆåŠŸï¼Œcode ä¸º 200 æ—¶ä»£è¡¨æˆåŠŸï¼Œå…¶ä»– code ä»£è¡¨å¤±è´¥          |
| 402       | æ¥å£è°ƒç”¨é¢åº¦å·²ç”¨å®Œï¼Œè¯·å……å€¼å†ä½¿ç”¨                              |
| 401       | ç¼ºå°‘å‚æ•° userId æˆ– secretKey                                  |
| 401       | userId å’Œ secretKey ä¸åŒ¹é…                                    |
| å…¶ä»– code | ç¼ºå°‘å‚æ•°                                                      |
| å…¶ä»– code | è¯·ä¼ å…¥æ­£ç¡®çš„ url åœ°å€                                         |
| å…¶ä»– code | æå–å¤±è´¥                                                      |
| -30       | å¦‚æœ code æ˜¯-30ï¼Œè¡¨ç¤ºå½“å‰æœåŠ¡å¼‚å¸¸(å‡ºç°ç‡æä½)ï¼Œå¯é‡è¯•è¯¥æ¬¡è¯·æ±‚ |
